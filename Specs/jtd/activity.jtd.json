{
    "properties": {
        "version": {
            "type": "string"
        },
        "uuid": {
            "type": "string"
        },
        "name": {
            "type": "string"
        },
        "created_at": {
            "type": "string"
        },
        "last_edited_at": {
            "type": "string"
        },
        "status": {
            "ref": "def:status"
        },
        "authors": {
            "elements": {
                "ref": "def:author"
            }
        },
        "skills": {
            "elements": {
                "ref": "def:skill"
            }
        },
        "hmi": {
            "elements": {
                "ref": "def:hmi"
            }
        },
        "types": {
            "elements": {
                "ref": "def:type"
            }
        },
        "tags": {
            "elements": {
                "ref": "def:tag"
            }
        },
        "locales": {
            "elements": {
                "ref": "def:locale"
            }
        },
        "l10n": {
            "elements": {
                "ref": "def:l10n"
            }
        },
        "exercises_payload": {
            "properties": {
                "options": {
                    "properties": {
                        "shuffle_exercises": {
                            "type": "boolean"
                        },
                        "shuffle_groups": {
                            "type": "boolean"
                        }
                    }
                },
                "exercise_groups": {
                    "elements": {
                        "ref": "def:group"
                    }
                }
            }
        }
    },
    "definitions": {
        "def:author": {
            "enum": ["leka", "aurore_kiesler", "julie_tuil"]
        },
        "def:hmi": {
            "enum": ["robot", "tablet", "magic_cards", "tablet_robot"]
        },
        "def:locale": {
            "enum": ["en_US", "fr_FR"]
        },
        "def:status": {
            "enum": ["draft", "published"]
        },
        "def:l10n": {
            "properties": {
                "locale": {
                    "ref": "def:locale"
                },
                "details": {
                    "ref": "def:l10n/details"
                }
            }
        },
        "def:l10n/details": {
            "properties": {
                "icon": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "subtitle": {
                    "type": "string",
                    "nullable": true
                },
                "short_description": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "instructions": {
                    "type": "string",
                    "nullable": true
                }
            }
        },
        "def:skill": {
            "type": "string"
        },
        "def:type": {
            "enum": ["one_on_one", "group"]
        },
        "def:tag": {
            "type": "string"
        },
        "def:group": {
            "properties": {
                "group": {
                    "elements": {
                        "ref": "def:exercise"
                    }
                }
            }
        },
        "def:exercise": {
            "properties": {
                "instructions": {
                    "ref": "def:exercise/instructions",
                    "nullable": true
                },
                "interface": {
                    "ref": "def:exercise/interface"
                }
            },
            "optionalProperties": {
                "gameplay": {
                    "ref": "def:exercise/gameplay",
                    "nullable": true
                },
                "payload": {
                    "ref": "def:exercise/payload"
                },
                "action": {
                    "ref": "def:exercise/action"
                }
            }
        },
        "def:exercise/instructions": {
            "elements": {
                "properties": {
                    "locale": {
                        "ref": "def:locale"
                    },
                    "value": {
                        "type": "string"
                    }
                }
            }
        },
        "def:exercise/interface": {
            "enum": [
                "touchToSelect",
                "robotThenTouchToSelect",
                "listenThenTouchToSelect",
                "observeThenTouchToSelect",
                "dragAndDropIntoZones",
                "dragAndDropToAssociate",
                "danceFreeze",
                "remoteStandard",
                "remoteArrow",
                "hideAndSeek",
                "musicalInstruments",
                "melody",
                "pairing"
            ]
        },
        "def:exercise/gameplay": {
            "enum": ["findTheRightAnswers", "associateCategories"]
        },
        "def:exercise/action": {
            "properties": {
                "type": {
                    "enum": ["ipad", "robot"]
                },
                "value": {
                    "properties": {
                        "type": {
                            "enum": ["image", "audio", "color"]
                        },
                        "value": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "def:exercise/payload": {}
    }
}
